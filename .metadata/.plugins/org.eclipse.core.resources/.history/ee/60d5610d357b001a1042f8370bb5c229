
/*<script type="text/javascript" th:inline="javascript">
			 const URL = [[@{'/'}]]; 	 
</script>*/
/**
 * Call API
 */



// The GetMapping
/*
 * var getConnection = (function(path){
 * 
 * $.ajax({ url : URL + path, type : 'GET', dataType : 'json', // kiểu dữ liệu
 * server trả về, result là kết quả success : function(result) {//200 / result
 * đã chuyển từ json về object
 * 
 * //console.log(result); resolve(result); }, error : function(error)
 * {//500,400... //console.log(error); //console.log(error.status);
 * //console.log(definitionError(error)); //getResult = definitionError(error);
 * reject('something error') } });
 * 
 * });
 */


const getMapping = path => {
	
	return	new Promise((resolve, reject) => {
	
		$.ajax({
			url : URL + path,
			type : 'GET',
			dataType : 'json', 
			success : function(result) {
				resolve(result);	
			},
			error : function(error) {		
				reject([false,"lỗi"]);		
			}
		});
	});
}
getMapping("api/product_type?name=i&page=1&size=5").then(resl => { // success
	console.log(resl);
})
.catch(error => { // error
	console.log(error);
});


 // var resul = getConnection("api/product_type?name=i&page=1&size=5");


var definitionError = (function(err){
	if(err.status === 500){
		return "Lỗi sever";
	}
	else if(err.status === 400){
		return "Dữ liệu đầu vào bị sai"; // bad request;
	}
	else if(err.status === 404){
		return "Trang yêu cầu không tồn tại"
	}
	else{
		return "Có gì đó sai";
	}
});

// The GetMapping
var postConnection = (function(){
	
	
	 
});


// The PutMapping
var putConnection = (function(){
	
	
	
});

// The DeleteMapping
var deletConnection = (function(){
	
	
	
});