
var UIController = (function(){
	var DOMString = {
			tbody : "tbody",
			
	};
	
	return {
		displayPrdTypes : function(product_types){
			var tbd = document.querySelector(DOMString.tbody);
			while (tbd.hasChildNodes()) {
		        tbd.removeChild(tbd.firstChild);		       
		    }

		    for (let i = 0; i < product_types.length; i++) {
		        var newRow = tbd.insertRow();

		        var cell0 = newRow.insertCell(0);
		        var cell1 = newRow.insertCell(1);
		        var cell2 = newRow.insertCell(2);
		      
		        cell0.innerHTML = product_types[i].id;
		        cell1.innerHTML = product_types[i].name;
		        cell2.innerHTML = '<input type="checkbox" name="deleteInput" value="Bike">';
		        
		    }
		},
		setUpPage : function(data){
			$('#pagination').twbsPagination({
				totalPages : data.totalPages,
				startPage : data.number + 1,
				visiblePages : 3,
				hideOnlyOnePage : true,
			}).on('page', function(event, page) {
				//select('/find_all_product?page=' + page + '&&type=')
				getConnection('api/product_type?name=i&page=1&size=5')

			});
		},
		getDOMString : function(){
			return  DOMString;
		}
		
	}		
})();



var controller = (function(UIctrl){
	
	// set up all event
	var setupEventListener = function(){
		window.getConnection('api/product_type?name=i&page=1&size=5',getCtrl);
	};
	
	// Get mapping
	var getCtrl = function(result){
		// Display all product type;
		UIctrl.displayPrdTypes(result.content);
		
	    // set up page
		UTctrl.setUpPage(result);
		
	}
	
	return  {
		init: function(){
			setupEventListener();
		}
	}
})(UIController);

controller.init()



